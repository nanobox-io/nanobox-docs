<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta content='width=device-width, initial-scale=1.0' name='viewport'>
    <!-- favicon -->
    <link href='/images/favicon.ico' rel='icon' type='image/png'>
    <!-- Always force latest IE rendering engine or request Chrome Frame -->
    <meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible'>
    <!-- Use title if it's in the page YAML frontmatter -->
    <title>
      Cron Jobs - Nanobox Production Documentation
    </title>
    <link href='https://fonts.googleapis.com/css?family=Lato:300,400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      
      ga('create', 'UA-68213709-1', 'auto');
      ga('send', 'pageview');
    </script>
    <link href="/stylesheets/all-ff38f05b.css" rel="stylesheet" type="text/css" />
    <script src="/javascripts/all-3a13a9e7.js" type="text/javascript"></script>
  </head>
  <body>
    <div id='header'>
      <a class='left' href='/' id='logo'>
        <svg enable-background='new 0 0 19 33' id='nb-logo-sm' space='preserve' version='1.1' viewbox='0 0 19 33' x='0px' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns='http://www.w3.org/2000/svg' y='0px'>
          <g>
            <g>
              <polygon fill='#405C70' points='19,26 9.6,30.9 0,26 9.4,21.1'></polygon>
              <polygon fill='#2F4352' points='15,24 9.5,26.9 3.9,24 9.4,21.1'></polygon>
              <polygon fill='#1C2830' points='9.6,30.9 19,26.1 19,27.4 9.6,32.3 '></polygon>
              <polygon fill='#19242B' points='9.6,30.9 0,26 0,27.3 9.6,32.3 '></polygon>
            </g>
            <g>
              <polygon fill='#1E77A3' points='9.5,23.1 17.2,19.1 17.2,20.3 9.5,24.2 '></polygon>
              <polygon fill='#175D80' points='9.5,23.1 1.8,19.1 1.8,20.3 9.5,24.2 '></polygon>
              <polygon fill='#62B1DD' points='17.2,19.1 9.5,23.1 1.8,19.1 9.5,15.2'></polygon>
              <polygon enable-background='new' fill='#0B194F' opacity='0.42' points='15.1,18.1 9.5,21 3.9,18.1 9.5,15.2 '></polygon>
            </g>
            <g>
              <polygon fill='#43C494' points='9.5,16.9 18.8,12.2 18.8,13.5 9.5,18.3 '></polygon>
              <polygon fill='#4AAA88' points='9.5,16.9 0.2,12.2 0.2,13.5 9.5,18.3 '></polygon>
              <polygon fill='#7FE0BF' points='18.8,12.2 9.5,16.9 0.2,12.2 9.5,7.4 '></polygon>
              <polygon enable-background='new' fill='#43C4A6' opacity='0.76' points='16.3,10.9 9.5,14.4 2.7,10.9 9.5,7.4'></polygon>
            </g>
            <g>
              <polygon fill='#FDE5A6' points='18.8,4.8 9.5,9.6 0.2,4.8 9.5,0'></polygon>
              <polygon fill='#E9D399' points='9.5,9.6 18.8,4.8 18.8,6.2 9.5,11'></polygon>
              <polygon fill='#D9BB6F' points='9.5,9.6 0.2,4.8 0.2,6.2 9.5,11'></polygon>
            </g>
          </g>
        </svg>
        <span id='nb-title'>
          <span class='drop'>Nanobox</span>
          Docs
        </span>
      </a>
      <ul class='links'>
        <li class='text'>
          <a href='/'>
            Local
          </a>
        </li>
        <li class='text'>
          <a class='active' href='/production/'>
            Production
          </a>
        </li>
        <li>
          <a href='https://nanobox.io'>
            <svg enable-background='new 0 0 18 18' id='home-icon' space='preserve' version='1.1' viewbox='0 0 18 18' x='0px' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns='http://www.w3.org/2000/svg' y='0px'>
              <polygon fill='none' points='11,13 11,9 9,7 7,9 &#x000A;	7,13 ' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2'></polygon>
              <polyline fill='none' points='14,11 14,16 4,16 &#x000A;	4,11 ' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2'></polyline>
              <polyline fill='none' points='2,9.1 9.1,2 &#x000A;	16.1,9.1 ' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2'></polyline>
            </svg>
          </a>
        </li>
      </ul>
    </div>
    <div id='wrapper'>
      <div class='open' id='contents-btn'>Contents</div>
      <div id='navigation'>
        <ul class='closed' id='contents'>
          <li>
            <a href="/production/">Nanobox Production</a>
          </li>
          <li>
            <a href="/production/getting-started/">Getting Started</a>
            <ul class='sub'>
              <li>
                <a href="/production/getting-started/local-to-production/">Going from Local to Production</a>
              </li>
              <li>
                <a href="/production/getting-started/environment/">The Environment</a>
              </li>
              <li>
                <a href="/production/getting-started/providers/">Hosting Providers</a>
              </li>
              <li>
                <a href="/production/getting-started/nanoagent/">NanoAgent</a>
              </li>
              <li>
                <a href="/production/getting-started/launching-an-app/">Launching an App</a>
              </li>
              <li>
                <a href="/production/getting-started/deploy-process/">The Deploy Process</a>
              </li>
            </ul>
          </li>
          <li>
            <a href="/production/git-ssh/">Git & SSH</a>
            <ul class='sub'>
              <li>
                <a href="/production/git-ssh/generating-ssh-keys/">Generating SSH Keys</a>
              </li>
              <li>
                <a href="/production/git-ssh/adding-ssh-keys/">Adding SSH Keys to Nanobox</a>
              </li>
              <li>
                <a href="/production/git-ssh/git-ssh-troubleshooting/">Git & SSH Troubleshooting</a>
              </li>
            </ul>
          </li>
          <li>
            <a href="/production/app-management/">App Management</a>
            <ul class='sub'>
              <li>
                <a href="/production/app-management/service-stats/">Service Stats</a>
              </li>
              <li class='active'>
                <a href="/production/app-management/cron-jobs/">Cron Jobs</a>
              </li>
              <li>
                <a href="/production/app-management/log-management/">Log Management</a>
              </li>
              <li>
                <a href="/production/app-management/deploy-history/">Deploy History</a>
              </li>
              <li>
                <a href="/production/app-management/dashboard-service-controls/">Dashboard Service Controls</a>
              </li>
              <li>
                <a href="/production/app-management/deployment-options/">Deployment Options</a>
              </li>
              <li>
                <a href="/production/app-management/app-public-ssh-key/">App Public SSH Key</a>
              </li>
              <li>
                <a href="/production/app-management/mail/">Mail</a>
              </li>
            </ul>
          </li>
          <li>
            <a href="/production/data-management/">Data Management</a>
            <ul class='sub'>
              <li>
                <a href="/production/data-management/remotely-managing-data/">Remotely Managing Data</a>
              </li>
              <li>
                <a href="/production/data-management/snapshots-backups/">Snapshots & Backups</a>
              </li>
              <li>
                <a href="/production/data-management/data-migrations-scaling/">Data Migrations During Scaling & Repairs</a>
              </li>
            </ul>
          </li>
          <li>
            <a href="/production/scaling/">Scaling</a>
            <ul class='sub'>
              <li>
                <a href="/production/scaling/single-vs-multi-node/">Single-Node & Multi-Node Apps</a>
              </li>
              <li>
                <a href="/production/scaling/how-when-to-scale/">How & When to Scale</a>
              </li>
            </ul>
          </li>
          <li>
            <a href="/production/networking-domains/">Networking & Domains</a>
            <ul class='sub'>
              <li>
                <a href="/production/networking-domains/custom-domains/">Using Custom Domains</a>
              </li>
              <li>
                <a href="/production/networking-domains/adding-ssl/">Adding SSL</a>
              </li>
              <li>
                <a href="/production/networking-domains/inbound-ips/">Inbound IPs</a>
              </li>
            </ul>
          </li>
          <li>
            <a href="/production/cli/">Command Line Interface</a>
          </li>
          <li>
            <a href="/production/team/">Team Management</a>
            <ul class='sub'>
              <li>
                <a href="/production/team/managing-collaborators/">Managing Collaborators</a>
              </li>
              <li>
                <a href="/production/team/collaborator-permissions/">Collaborator Permissions</a>
              </li>
            </ul>
          </li>
          <li>
            <a href="/production/account/">Account Management & Billing</a>
            <ul class='sub'>
              <li>
                <a href="/production/account/creating-an-account/">Creating an Account</a>
              </li>
              <li>
                <a href="/production/account/removing-an-account/">Removing an Account</a>
              </li>
              <li>
                <a href="/production/account/card-management/">Credit Card Management</a>
              </li>
              <li>
                <a href="/production/account/invoicing/">Invoicing</a>
              </li>
            </ul>
          </li>
        </ul>
      </div>
      <div id='content'>
        <h1>Cron Jobs</h1>
        <p>Cron Jobs allow you to create schuduled tasks for your Nanobox application. They are commonly used to automate system maintenance or administration, but can also be used for many other things.</p>
        
        <h2 id="how-cron-jobs-work">How Cron Jobs Work</h2>
        
        <p>Whenever you add a cron job to your application, the job is loaded into the <a href="http://unixhelp.ed.ac.uk/CGI/man-cgi?crontab+5">Crontab (Cron Table)</a> of an instance within the service to which the cron job is assigned. For multi-instance services, only one instance will have the job added to its crontab. This prevents the job from running on all instances at the same time.</p>
        
        <h2 id="creating-a-cron-job">Creating a Cron Job</h2>
        
        <p>Cron Jobs can be created in both your App Dashboard and your Boxfile.</p>
        
        <h3 id="through-the-dashboard">Through the Dashboard</h3>
        
        <p>To add a cron job in the Dashboard, go to Cron Jobs under your Dev Config tab and click &quot;New Cron Job.&quot;</p>
        
        <p><img alt="Adding a Cron Job in the Dashboard" src="/images/cron-jobs-dashboard.png" /></p>
        
        <p>The settings for the cron job are covered in detail <a href="#cron-job-configuration">below</a>.</p>
        
        <h3 id="in-the-boxfile">In the Boxfile</h3>
        
        <p>To configure a cron job using the Boxfile, nest a cron job under the service on which it will run. Include both the <a href="#schedule">cron schedule</a> and the <a href="#command">cron command</a>.</p>
        
        <h4 id="cron-jobs-in-the-boxfile">Cron Jobs in the Boxfile</h4>
        <pre class="highlight yaml"><code><span class="s">web1</span><span class="pi">:</span>&#x000A;  <span class="s">cron</span><span class="pi">:</span>&#x000A;    <span class="c1"># Pattern</span>&#x000A;    <span class="pi">-</span> <span class="s1">'</span><span class="s">schedule'</span><span class="pi">:</span> <span class="s1">'</span><span class="s">command'</span>&#x000A;&#x000A;    <span class="c1"># Examples</span>&#x000A;    <span class="pi">-</span> <span class="s1">'</span><span class="s">0</span><span class="nv"> </span><span class="s">0</span><span class="nv"> </span><span class="s">*</span><span class="nv"> </span><span class="s">*</span><span class="nv"> </span><span class="s">*'</span><span class="pi">:</span> <span class="s1">'</span><span class="s">rm</span><span class="nv"> </span><span class="s">-rf</span><span class="nv"> </span><span class="s">app/cache/*'</span>&#x000A;    <span class="pi">-</span> <span class="s1">'</span><span class="s">*/3</span><span class="nv"> </span><span class="s">*/2</span><span class="nv"> </span><span class="s">1-3</span><span class="nv"> </span><span class="s">2,6,7</span><span class="nv"> </span><span class="s">2'</span><span class="pi">:</span> <span class="s1">'</span><span class="s">sh</span><span class="nv"> </span><span class="s">cron/script.sh'</span>&#x000A;</code></pre>
        
        <p>On your next deploy, your cron job(s) will be created.</p>
        
        <p><strong>Note:</strong> When you remove a Cron Job from your Boxfile, it will not remove the Cron Job from your production application. Cron jobs can only be removed from production applications in your dashboard. Also, if you make an edit to a Cron Job in your Boxfile, it will not edit the existing job, but create a new Cron Job instead. You will need to delete the previous version of your job in your App Dashboard.</p>
        
        <h2 id="cron-job-configuration">Cron Job Configuration</h2>
        
        <p>Cron jobs are really simple to configure, but there are some things you should know. With each cron, there are 4 main configuration settings:</p>
        
        <h3 id="command">Command</h3>
        
        <p>The command is script or process that runs when the cron job fires. Be sure to include the executable in your command or make sure there&#39;s a <a href="http://en.wikipedia.org/wiki/Shebang_(Unix)">shebang</a> in your script. Filepaths used in commands should be relative to the root of your project.</p>
        
        <h3 id="schedule">Schedule</h3>
        
        <p>The schedule defines when and how often your cron job should run. Use <a href="http://en.wikipedia.org/wiki/Cron#Predefined_scheduling_definitions">Cron Expressions</a> to define the schedule. Below are some simple examples:</p>
        
        <table><thead>
        <tr>
        <th style="text-align: left">Interval</th>
        <th style="text-align: left">Description</th>
        <th style="text-align: left">Schedule</th>
        </tr>
        </thead><tbody>
        <tr>
        <td style="text-align: left">Yearly</td>
        <td style="text-align: left">Run once a year, midnight, Jan. 1st</td>
        <td style="text-align: left"><code>0 0 1 1 *</code></td>
        </tr>
        <tr>
        <td style="text-align: left">Monthly</td>
        <td style="text-align: left">Run once a month, midnight, first of month</td>
        <td style="text-align: left"><code>0 0 1 * *</code></td>
        </tr>
        <tr>
        <td style="text-align: left">Weekly</td>
        <td style="text-align: left">Run once a week, midnight on Sunday</td>
        <td style="text-align: left"><code>0 0 * * 0</code></td>
        </tr>
        <tr>
        <td style="text-align: left">Daily</td>
        <td style="text-align: left">Run once a day, midnight</td>
        <td style="text-align: left"><code>0 0 * * *</code></td>
        </tr>
        <tr>
        <td style="text-align: left">Hourly</td>
        <td style="text-align: left">Run once an hour, beginning of hour</td>
        <td style="text-align: left"><code>0 * * * *</code></td>
        </tr>
        </tbody></table>
        
        <p><strong>Note:</strong> Predefined Scheduling Definitions(e.g. @daily, @hourly, etc.) are not available on Nanobox. All schedules must be numeric.</p>
        
        <h3 id="service">Service</h3>
        
        <p>The Service defines on which of your app&#39;s services the cron job will run. If adding a cron job in the Boxfile, the service under which the cron job is nested is used. When adding a cron job in your dashboard, if your app has more than one code service, you&#39;ll have the option to select which service to use.</p>
        
        <h3 id="output-emails">Output Emails</h3>
        
        <p>This is pretty self-explanatory. Nanobox allows you to specify email addresses to notify when your Cron Job runs. The email includes the actual output of the script or command. You can specify these email addresses in your App Dashboard when creating a new Cron Job or editing an existing job. Adding notification email addresses cannot be done in the Boxfile.</p>
        
        <p>Cron output emails are sent through the SMTP provider you provide in your dashboard. In order to have the output of your cron jobs emailed to you, you must first <a href="/production/app-management/mail">configure SMTP credentials in your dashboard</a>.</p>
        <div id='pagination'>
          <a class="prev" href="/production/app-management/service-stats/">Service Stats</a>
          <a class="next" href="/production/app-management/log-management/">Log Management</a>
        </div>
      </div>
    </div>
    <div id='footer'>
      <div id='wrapper'>
        <div class='left'>
          <ul>
            <li class='title'>Nanobox Production</li>
            <li>
              <a href='#'>Pricing</a>
            </li>
            <li>
              <a href='#'>Support</a>
            </li>
            <li>
              <a href='http://webchat.freenode.net/?channels=nanobox' target='_blank'>#nanobox IRC</a>
            </li>
          </ul>
          <ul>
            <li class='title'>Nanobox Local</li>
            <li>
              <a href='https://nanobox.io/downloads/'>Download</a>
            </li>
            <li>
              <a href='https://github.com/nanobox-io'>Source Code</a>
            </li>
            <li>
              <a href='http://trello.com/b/4nVFzmNZ/nanobox' target='_blank'>Track Progress on Trello</a>
            </li>
          </ul>
          <p>Pagoda Box Inc.  Â© Copyright 2015 - <em>Nanobox, a <a href="https://pagodabox.io">Pagoda Box</a> Project</em></p>
        </div>
        <div class='right'>
          <a href='#' id='production'>
            <svg enable-background='new 0 0 56 96.7' id='nb-logo-md' space='preserve' version='1.1' viewbox='0 0 56 96.7' x='0px' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns='http://www.w3.org/2000/svg' y='0px'>
              <g>
                <polygon fill='#2B3E4B' points='56.4,77.3 28.5,91.7 0,77 27.9,62.7  '></polygon>
                <polygon fill='#23313C' points='32.5,80.5 22.6,85.7 17.7,83.2 27.5,78   '></polygon>
                <polygon fill='#1A242B' points='17.7,83.1 27.5,78 27.5,81.4 20.9,84.8   '></polygon>
                <polyline fill='#1C2830' points='27.5,78 27.5,81.4 29.2,82.2 32.5,80.5  '></polyline>
                <polygon fill='#23313C' points='26.2,77.3 16.4,82.5 11.5,79.9 21.3,74.8   '></polygon>
                <polygon fill='#1A242B' points='11.5,79.9 21.3,74.7 21.3,78.1 14.7,81.6   '></polygon>
                <polyline fill='#1C2830' points='21.3,74.7 21.3,78.1 23,79 26.2,77.3  '></polyline>
                <polygon fill='#23313C' points='20,74 10.1,79.2 5.2,76.7 15.1,71.5  '></polygon>
                <polygon fill='#1A242B' points='5.2,76.6 15.1,71.5 15.1,74.9 8.5,78.3   '></polygon>
                <polyline fill='#1C2830' points='15.1,71.5 15.1,74.9 16.7,75.7 20,74  '></polyline>
                <polygon fill='#1C2830' points='28.5,91.7 56.4,77.3 56.4,81.4 28.5,95.8   '></polygon>
                <polygon fill='#1A242B' points='28.5,91.7 0,77 0,81.1 28.5,95.8   '></polygon>
                <polygon fill='#23313C' points='48.2,78.8 35.2,85.5 30.3,83 43.2,76.3   '></polygon>
                <polygon fill='#1A242B' points='30.3,83 46.5,74.5 46.5,77.9 33.6,84.7   '></polygon>
                <polygon fill='#23313C' points='45.2,73.8 35.4,79 30.4,76.5 40.3,71.3   '></polygon>
                <polygon fill='#1A242B' points='30.4,76.4 40.3,71.3 40.3,74.7 33.7,78.1   '></polygon>
                <polyline fill='#1C2830' points='40.3,71.3 40.3,74.7 41.9,75.5 45.2,73.8  '></polyline>
                <polygon fill='#23313C' points='39,70.6 29.1,75.8 24.2,73.2 34,68.1   '></polygon>
                <polygon fill='#1A242B' points='24.2,73.2 34,68 34,71.4 27.4,74.9   '></polygon>
                <polyline fill='#1C2830' points='34,68 34,71.4 35.7,72.3 39,70.6  '></polyline>
                <polygon fill='#23313C' points='32.7,67.3 22.9,72.5 18,70 27.8,64.8   '></polygon>
                <polygon fill='#1A242B' points='18,69.9 27.8,64.8 27.8,68.2 21.2,71.6   '></polygon>
                <polyline fill='#1C2830' points='27.8,64.8 27.8,68.2 29.5,69 32.7,67.3  '></polyline>
                <polyline fill='#1C2830' points='46.5,74.5 46.5,77.9 48.2,78.8 51.4,77.1  '></polyline>
                <polygon fill='#23313C' points='33.7,86.3 28.5,89 23.6,86.5 28.8,83.7   '></polygon>
                <polygon fill='#1A242B' points='23.6,86.4 28.8,83.7 28.8,87.1 26.9,88.1   '></polygon>
                <polyline fill='#1C2830' points='28.8,83.7 28.8,87.1 30.4,88 33.7,86.3  '></polyline>
                <polygon enable-background='new    ' fill='#010101' opacity='0.22' points='48.1,73.1 27.9,83.6 7.6,73.1 27.9,62.7   '></polygon>
                <polygon fill='#1F78A4' points='28.8,68.5 51.5,56.8 51.5,60.2 28.8,71.9   '></polygon>
                <polygon fill='#1A5D80' points='28.8,68.5 6.1,56.8 6.1,60.2 28.8,71.9   '></polygon>
                <polygon fill='#63B1DD' points='51.5,56.8 28.8,68.5 6.1,56.8 28.8,45  '></polygon>
                <polygon enable-background='new    ' fill='#1A1D4D' opacity='0.42' points='45.5,53.7 28.8,62.3 12.1,53.7 28.8,45.1  '></polygon>
                <polygon fill='#50BD93' points='28.8,50.3 56.3,36.1 56.3,40.2 28.8,54.4   '></polygon>
                <polygon fill='#4BAA88' points='28.8,50.3 1.3,36.1 1.3,40.2 28.8,54.4   '></polygon>
                <polygon fill='#8BCFB8' points='56.3,36.1 28.8,50.3 1.3,36.1 28.8,21.9  '></polygon>
                <polygon enable-background='new    ' fill='#4EBFA4' opacity='0.76' points='49.1,32.3 28.8,42.8 8.5,32.3 28.8,21.9   '></polygon>
                <polygon fill='#FFF5AE' points='56.3,14.3 28.6,28.6 0.9,14.3 28.6,0   '></polygon>
                <polygon fill='#EBE29F' points='28.6,28.6 56.3,14.3 56.3,18.5 28.6,32.7   '></polygon>
                <polygon fill='#DACE74' points='28.6,28.6 0.9,14.3 0.9,18.5 28.6,32.7   '></polygon>
              </g>
            </svg>
            Move from Local to <br>Production Seamlessly
          </a>
        </div>
      </div>
    </div>
  </body>
</html>
